(this["webpackJsonpmath-game"]=this["webpackJsonpmath-game"]||[]).push([[0],{10:function(e,t,s){"use strict";s.r(t);var c=s(1),a=s.n(c),n=s(4),r=s.n(n);const o=e=>{let t;switch(e){case 1:default:t=10;break;case 2:t=20;break;case 3:t=50}const s=Math.floor(Math.random()*t),c=Math.floor(Math.random()*t);return{question:"".concat(s," + ").concat(c),answer:s+c}};var l=s(0);var j=e=>{let{level:t,onScoreUpdate:s,onGameEnd:a}=e;const[n,r]=Object(c.useState)(o(t)),[j,i]=Object(c.useState)(0),[b,d]=Object(c.useState)(30),[h,u]=Object(c.useState)([]);Object(c.useEffect)((()=>{const e=setInterval((()=>{d((t=>t<=1?(clearInterval(e),a(),0):t-1))}),1e3);return()=>clearInterval(e)}),[a]),Object(c.useEffect)((()=>{O()}),[n]);const O=()=>{const e=n.answer,s=new Set;for(;s.size<3;){const c=Math.floor(Math.random()*(20*t));c!==e&&s.add(c)}const c=Array.from(s);c.push(e),u(m(c))},m=e=>{for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e};return Object(l.jsxs)("div",{className:"game",children:[Object(l.jsx)("p",{children:n.question}),Object(l.jsxs)("p",{children:["\u5269\u4f59\u65f6\u95f4: ",b,"\u79d2"]}),Object(l.jsx)("div",{className:"answers",children:h.map(((e,c)=>Object(l.jsx)("button",{onClick:()=>(e=>{if(e===n.answer){const e=j+1;i(e),s(e),r(o(t))}else a()})(e),children:e},c)))})]})};var i=e=>{let{score:t,message:s,stars:c}=e;return Object(l.jsxs)("div",{className:"score",children:[Object(l.jsx)("p",{children:s}),Object(l.jsxs)("p",{children:["\u5206\u6570: ",t]}),Object(l.jsx)("div",{className:"stars",children:(()=>{let e=[];for(let t=0;t<c;t++)e.push(Object(l.jsx)("span",{className:"star",children:"\u2b50"},t));return e})()})]})};s(3);var b=()=>{const[e,t]=Object(c.useState)(0),[s,a]=Object(c.useState)("\u6e38\u620f\u7ed3\u675f!"),[n,r]=Object(c.useState)(!0),[o,b]=Object(c.useState)(1),[d,h]=Object(c.useState)(0);return Object(l.jsxs)("div",{className:"app-container",children:[Object(l.jsx)("h1",{children:"\u7b97\u672f\u5148\u950b"}),Object(l.jsxs)("label",{children:["\u9009\u62e9\u7ea7\u522b:",Object(l.jsxs)("select",{value:o,onChange:e=>{b(parseInt(e.target.value))},children:[Object(l.jsx)("option",{value:1,children:"\u7b80\u5355"}),Object(l.jsx)("option",{value:2,children:"\u4e2d\u7b49"}),Object(l.jsx)("option",{value:3,children:"\u56f0\u96be"})]})]}),n?Object(l.jsx)(j,{level:o,onScoreUpdate:e=>{t(e)},onGameEnd:()=>{r(!1)}}):Object(l.jsx)(i,{score:e,message:s,stars:d}),Object(l.jsx)("button",{onClick:()=>{r(!0),t(0)},children:"\u91cd\u65b0\u5f00\u59cb"})]})};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(b,{})}),document.getElementById("root"))},3:function(e,t,s){}},[[10,1,2]]]);
//# sourceMappingURL=main.f66ec184.chunk.js.map